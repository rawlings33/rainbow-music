<!-- Save as index.html -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Rainbow Music — Home</title>

  <style>
    :root{
      --bg:#0b0b0b;
      --panel:#111111;
      --accent:#ff2b2b;     /* YouTube-music-like red */
      --muted:#bdb8b8;
      --glass: rgba(255,255,255,0.03);
      --radius:14px;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;background:linear-gradient(180deg,#070707,var(--bg));color:#fff;-webkit-font-smoothing:antialiased}
    /* App shell */
    .shell{max-width:420px;margin:14px auto;border-radius:22px;overflow:hidden;border:1px solid rgba(255,255,255,0.04);box-shadow:0 18px 50px rgba(0,0,0,0.7);background:var(--panel)}
    header{display:flex;align-items:center;justify-content:space-between;padding:12px}
    .brand{display:flex;gap:12px;align-items:center}
    .logo{width:48px;height:48;border-radius:10px;background:linear-gradient(135deg,var(--accent),#ff7b7b);display:flex;align-items:center;justify-content:center;font-weight:800;color:#111}
    .title{font-weight:800}
    .subtitle{font-size:12px;color:var(--muted)}
    .search{margin:10px 12px;background:var(--glass);border-radius:12px;padding:10px;display:flex;gap:10px;align-items:center}
    .search input{background:transparent;border:0;outline:none;color:inherit;width:100%;font-size:15px}
    main{padding:0 12px 84px 12px}
    .hero{display:flex;gap:12px;padding:14px;border-radius:12px;margin-top:10px;background:linear-gradient(180deg,rgba(255,255,255,0.01),rgba(255,255,255,0.005));align-items:center}
    .hero-art{width:84px;height:84;border-radius:12px;background:#0c0c0c;display:flex;align-items:center;justify-content:center;font-weight:800;color:var(--accent);font-size:26px}
    .hero h1{margin:0;font-size:18px}
    .muted{color:var(--muted)}
    .btn{padding:8px 12px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit;font-weight:700;cursor:pointer}
    .btn.primary{background:linear-gradient(90deg,var(--accent),#ff7b7b);color:#111;border:0}
    .section-header{display:flex;align-items:center;justify-content:space-between;margin:16px 0 8px 0}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:12px}
    .card{padding:10px;border-radius:12px;background:linear-gradient(180deg,rgba(255,255,255,0.01),rgba(255,255,255,0.005));display:flex;flex-direction:column;gap:10px}
    .cover{height:110px;border-radius:10px;background:#0b0b0b;display:flex;align-items:center;justify-content:center;color:var(--accent);font-weight:800;font-size:20px}
    .track-list{display:flex;flex-direction:column;gap:8px;margin-top:8px}
    .track{display:flex;align-items:center;gap:12px;padding:8px;border-radius:10px}
    .thumb{width:56px;height:56;border-radius:8px;background:#0b0b0b;display:flex;align-items:center;justify-content:center;color:var(--accent);font-weight:800}
    .track-meta{flex:1}
    .small{font-size:13px;color:var(--muted)}
    /* Bottom nav */
    nav.bottom{position:fixed;left:50%;transform:translateX(-50%);bottom:14px;width:420px;max-width:94vw;background:linear-gradient(180deg,rgba(15,15,15,0.98),rgba(10,10,10,0.98));border-radius:14px;padding:8px 12px;border:1px solid rgba(255,255,255,0.04);display:flex;justify-content:space-around;align-items:center;gap:10px;box-shadow:0 10px 30px rgba(0,0,0,0.7)}
    .nav-btn{background:transparent;border:0;color:var(--muted);font-weight:700;display:flex;flex-direction:column;align-items:center;gap:4px;cursor:pointer}
    .nav-btn.active{color:var(--accent)}
    .nav-icon{width:22px;height:22;border-radius:4px;background:rgba(255,255,255,0.02);display:flex;align-items:center;justify-content:center;font-size:12px;color:var(--muted)}
    /* Responsive tweaks */
    @media (max-width:420px){ .shell{margin:8px} }
  </style>
</head>
<body>
  <div class="shell" role="application" aria-label="Rainbow Music app">
    <header>
      <div class="brand">
        <div class="logo">RM</div>
        <div>
          <div class="title">Rainbow Music</div>
          <div class="subtitle">Choir Streaming</div>
        </div>
      </div>
      <div>
        <button class="btn" onclick="location.href='subscribe.html'">Subscribe</button>
      </div>
    </header>

    <div class="search" role="search">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" style="opacity:0.9"><path d="M21 21l-4.35-4.35" stroke="#fff" stroke-opacity="0.8" stroke-width="1.6" stroke-linecap="round"/></svg>
      <input id="q" placeholder="Search songs, artists..." aria-label="Search songs"/>
    </div>

    <main>
      <!-- Hero -->
      <section class="hero" aria-label="Featured">
        <div class="hero-art">RV</div>
        <div style="flex:1">
          <h1>Sunday Praise Collection</h1>
          <div class="small muted">Featured choir performances, curated playlists, and exclusive releases.</div>
          <div style="margin-top:10px">
            <button class="btn primary" id="play-hero">Play</button>
            <button class="btn" onclick="location.href='library.html'" style="margin-left:8px">Library</button>
          </div>
        </div>
      </section>

      <!-- Trending grid -->
      <div class="section-header">
        <div style="font-weight:800">Trending</div>
        <div class="small muted" id="updated">Updated • today</div>
      </div>

      <div class="grid" id="releases">
        <!-- injected by JS -->
      </div>

      <!-- Tracks -->
      <div class="section-header" style="margin-top:14px">
        <div style="font-weight:800">Top Tracks</div>
        <div class="small muted">For your church</div>
      </div>

      <div class="track-list" id="tracks">
        <!-- injected by JS -->
      </div>
    </main>
  </div>

  <!-- Bottom navigation (links to separate pages) -->
  <nav class="bottom" role="navigation" aria-label="Main navigation">
    <button class="nav-btn active" data-target="index.html" aria-label="Home" onclick="navigate(this)">
      <div class="nav-icon">H</div>
      <div style="font-size:12px">Home</div>
    </button>

    <button class="nav-btn" data-target="library.html" aria-label="Library" onclick="navigate(this)">
      <div class="nav-icon">L</div>
      <div style="font-size:12px">Library</div>
    </button>

    <button class="nav-btn" data-target="player.html" aria-label="Player" onclick="navigate(this)">
      <div class="nav-icon">P</div>
      <div style="font-size:12px">Player</div>
    </button>

    <button class="nav-btn" data-target="subscribe.html" aria-label="Subscribe" onclick="navigate(this)">
      <div class="nav-icon">S</div>
      <div style="font-size:12px">Subscribe</div>
    </button>
  </nav>

  <script>
    /* App data - place sample MP3 files in assets/music/ matching file names if you want real audio.
       When user clicks Play on a track we save the selected track to localStorage and navigate to player.html.
    */
    const tracks = [
      { id: 1, title: "Psalm of Hope", artist: "Rainbow Choir", duration: "3:12", file: "assets/music/sample1.mp3" },
      { id: 2, title: "Victory Anthem", artist: "Rainbow Choir", duration: "4:03", file: "assets/music/sample2.mp3" },
      { id: 3, title: "Worship Rising", artist: "Choir Ensemble", duration: "2:58", file: "assets/music/sample3.mp3" },
      { id: 4, title: "Grace Flow", artist: "Youth Chorus", duration: "3:40", file: "assets/music/sample4.mp3" },
      { id: 5, title: "Hallelujah Ring", artist: "Choir Ensemble", duration: "3:05", file: "assets/music/sample5.mp3" },
      { id: 6, title: "Peace Be Still", artist: "Rainbow Choir", duration: "4:20", file: "assets/music/sample6.mp3" }
    ];

    // render releases grid
    const releasesEl = document.getElementById('releases');
    const tracksEl = document.getElementById('tracks');

    function initials(name){
      return name.split(' ').map(w=>w[0]).slice(0,2).join('').toUpperCase();
    }

    function render(){
      releasesEl.innerHTML = '';
      for(let i=0;i<4;i++){
        const t = tracks[i];
        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = `
          <div class="cover">${initials(t.title)}</div>
          <div style="font-weight:800">${t.title}</div>
          <div class="small muted">${t.artist} · ${t.duration}</div>
          <div style="margin-top:8px"><button class="btn" data-id="${t.id}">Play</button></div>
        `;
        releasesEl.appendChild(card);
      }

      tracksEl.innerHTML = '';
      tracks.forEach(t=>{
        const row = document.createElement('div');
        row.className = 'track';
        row.innerHTML = `
          <div class="thumb">${initials(t.title)}</div>
          <div class="track-meta">
            <div style="font-weight:800">${t.title}</div>
            <div class="small muted">${t.artist} · ${t.duration}</div>
          </div>
          <div><button class="btn" data-id="${t.id}">Play</button></div>
        `;
        tracksEl.appendChild(row);
      });
    }

    render();

    // navigation helper: keep bottom nav highlighted, and navigate to separate page.
    function navigate(btn){
      // highlight active
      document.querySelectorAll('.nav-btn').forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
      const target = btn.dataset.target;
      // small visual delay for app-like feel
      setTimeout(()=> location.href = target, 180);
    }

    // Play flow: save selected track to localStorage then go to player page
    document.addEventListener('click', (e)=>{
      const b = e.target.closest('button');
      if(!b) return;
      if(b.dataset && b.dataset.id){
        const id = Number(b.dataset.id);
        const t = tracks.find(x=>x.id===id);
        if(t){
          localStorage.setItem('rm_current_track', JSON.stringify(t));
          // navigate to player page
          // highlight player nav visually before navigate
          const playerBtn = document.querySelector('[data-target="player.html"]');
          if(playerBtn){ document.querySelectorAll('.nav-btn').forEach(x=>x.classList.remove('active')); playerBtn.classList.add('active'); }
          setTimeout(()=> location.href = 'player.html', 150);
        }
      }
    });

    // hero play starts first three tracks as queue (store queue then open player)
    document.getElementById('play-hero').addEventListener('click', ()=>{
      const queue = tracks.slice(0,3);
      localStorage.setItem('rm_queue', JSON.stringify(queue));
      localStorage.setItem('rm_current_track', JSON.stringify(queue[0]));
      const playerBtn = document.querySelector('[data-target="player.html"]');
      if(playerBtn){ document.querySelectorAll('.nav-btn').forEach(x=>x.classList.remove('active')); playerBtn.classList.add('active'); }
      setTimeout(()=> location.href = 'player.html', 150);
    });

    // quick search filtering
    document.getElementById('q').addEventListener('input', (e)=>{
      const q = e.target.value.trim().toLowerCase();
      const filtered = tracks.filter(t => (t.title + ' ' + t.artist).toLowerCase().includes(q));
      tracksEl.innerHTML = '';
      filtered.forEach(t=>{
        const row = document.createElement('div');
        row.className = 'track';
        row.innerHTML = `
          <div class="thumb">${initials(t.title)}</div>
          <div class="track-meta">
            <div style="font-weight:800">${t.title}</div>
            <div class="small muted">${t.artist} · ${t.duration}</div>
          </div>
          <div><button class="btn" data-id="${t.id}">Play</button></div>
        `;
        tracksEl.appendChild(row);
      });
    });

    // page polish: show updated date (absolute)
    document.getElementById('updated').textContent = 'Updated • ' + new Date().toLocaleDateString(undefined, { month:'short', day:'numeric' });
  </script>
</body>
</html>
